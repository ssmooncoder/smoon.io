{"componentChunkName":"component---src-templates-blog-post-js","path":"/shell-config/","result":{"data":{"site":{"siteMetadata":{"title":"Samuel Moon"}},"markdownRemark":{"id":"5e796c1d-8078-5d37-bbae-358fc55c59c2","excerpt":"macOS ships with Zsh as its default shell starting with Catalina (10.16). Thankfully, Zsh shares much of the fuctionality with bash, so existing configurations…","html":"<p>macOS ships with Zsh as its default shell starting with Catalina (10.16). Thankfully, Zsh shares much of the fuctionality with bash, so existing configurations should transfer over without issue.</p>\n<h1>Dotfiles</h1>\n<p>Shell startup files, also known as <em>dotfiles</em>, are usually found in your home directory (if it exists). They are sourced in the following order:</p>\n<ol>\n<li><strong><code class=\"language-text\">.zshenv</code></strong> - may not exist.</li>\n<li><strong><code class=\"language-text\">.zprofile</code></strong> - login shell, sourced before <code class=\"language-text\">.zshrc</code>. I have <code class=\"language-text\">PATH</code> environment variables here.</li>\n<li><strong><code class=\"language-text\">.zshrc</code></strong> - login and interactive shells. I hold aliases, color configurations, and other environment variables here.</li>\n<li><strong><code class=\"language-text\">.zlogin</code></strong> - login shell, may not exist.</li>\n</ol>\n<h2>Prompt Colors</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cd75d1ba46eba601e7c313684567746c/80cfc/terminal.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.08860759493672%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACJUlEQVQ4y6WTy27TQBSGJ5ayAakgWMTIc7Nn7MS3iZMmjS8kaYUoTwALnqJe0Mdhx8MAgogNZQevQRnmoHFKaKWICrH4JM8Z+5s5/mcQQqj3/HTxYv1kfj6fl2dlWbZVVbVVvWibpmmfnT5tj49P2tVq3S6X67Ysq7aum+uc1XXzqqrqlwghByGE7j6eTy+qZgZ5rkApBfEohkgoCMMhRFEIQkhI0gSmh1PIshyklCCEuEEQiG/9fv+eFR6EsvgwyZd24jvnTHMe6CSqdTKcaymGmnOqh3KsVVpqGSSaUa4xxr+5xBiD53mfHcd5sBWKfJOMJhCGoaaUGkqZKdTM5HlukjgxQvhG8rGJgoXhPDCEErN9r+MnpRQwxl92wkiozTirbXuaMQaMcSjyCgp1BGmaAiEeSD6BVJ6AFAkQgsFKLISQfcJiM84aiKLI7hAY3QrTpADf50AZBsmnEIcVMM6s5EpI9guzTG2O5mUnxN3qDEbhDIZyAozIbiy4gljW4PvB7cIoGG9sKFJK+5PBtj07LKEqVxDKFDjjELAEomDazd0qDNPhJs0LoIRpQohhjBmlcpPlqYnjkfED3xCCOyixQZAd+1uepB/9kNviJaXUSrXned2xsM9bqKaEXhvv+HEl/HNssEcuGGW75LpgurRv1v4GIeSr4zgPrfDOYDB47bruJ9d137qu+/4feWe/HQwGb3q93oEV9hBC9so8+k/u27v8Cw7gI/Wgz9FaAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Terminal Colors\"\n        title=\"Terminal Colors\"\n        src=\"/static/cd75d1ba46eba601e7c313684567746c/f058b/terminal.png\"\n        srcset=\"/static/cd75d1ba46eba601e7c313684567746c/c26ae/terminal.png 158w,\n/static/cd75d1ba46eba601e7c313684567746c/6bdcf/terminal.png 315w,\n/static/cd75d1ba46eba601e7c313684567746c/f058b/terminal.png 630w,\n/static/cd75d1ba46eba601e7c313684567746c/40601/terminal.png 945w,\n/static/cd75d1ba46eba601e7c313684567746c/78612/terminal.png 1260w,\n/static/cd75d1ba46eba601e7c313684567746c/80cfc/terminal.png 1844w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>The prompt is configured using <code class=\"language-text\">$PS1</code>, which isn’t the gaming console but the “prompt string”. Here is a list of important escapes:</p>\n<ul>\n<li><strong><code class=\"language-text\">%n</code></strong> - username</li>\n<li><strong><code class=\"language-text\">%M</code></strong> - hostname</li>\n<li><strong><code class=\"language-text\">%d</code></strong>, <strong><code class=\"language-text\">%/</code></strong> - current working directory</li>\n<li><strong><code class=\"language-text\">%~</code></strong> - current working directory, with <code class=\"language-text\">$HOME</code> replaced with a tilde <code class=\"language-text\">~</code>.</li>\n<li><strong><code class=\"language-text\">%F</code></strong> … <strong><code class=\"language-text\">%f</code></strong> - foreground color, referenced by name or ASNI code.</li>\n<li><strong><code class=\"language-text\">%B</code></strong><code class=\"language-text\">...</code><strong><code class=\"language-text\">%b</code></strong> - bold</li>\n</ul>\n<p>You are also able to use double quotes to preserve line breaks.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">PS1=&quot;\n%B%F{green}%n%f%b %F{blue}%~%f\n%B%F{magenta}»%f%b &quot;</code></pre></div>\n<h2>Tab Completion Colors</h2>\n<p><img src=\"/ece7881029d644dd662388b50d122cba/terminal-list.gif\" alt=\"Terminal Tab Completion\"></p>\n<p>Zsh uses <code class=\"language-text\">list-colors</code> and <code class=\"language-text\">menu select</code> modules to select from a list of tab-completed strings. To use colors with the regular <code class=\"language-text\">ls</code> command, set <code class=\"language-text\">CLICOLOR</code> to <code class=\"language-text\">1</code>. You’ll need <code class=\"language-text\">autoload</code> at the top of your configuration file to use these features:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">autoload -Uz compinit\ncompinit\n\nexport CLICOLOR=1\n\nexport LS_COLORS=&#39;di=34:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43&#39;\nzstyle &#39;:completion:*&#39; list-colors &quot;${(s.:.)LS_COLORS}&quot;\nzstyle &#39;:completion:*&#39; menu select</code></pre></div>\n<h2>Keybindings</h2>\n<p>Unfortunately, Zsh doesn’t have backwards-kill, using <code class=\"language-text\">Ctrl + U</code> or <code class=\"language-text\">^U</code>, enabled by default. If you’re coming from bash, you can re-enable this feature using the <code class=\"language-text\">bindkey</code> command:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">bindkey &#39;^U&#39; backward-kill-line</code></pre></div>\n<h2>Editor</h2>\n<p><code class=\"language-text\">EDITOR</code> is the environment variable that points to the path of the text editor of your choice. The default editor is “vim”, and used for things like git commit messages. Thankfully you can change the default editor to something else:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># Use VSCode instead.\nexport EDITOR=&#39;/Applications/Visual\\ Studio\\ Code.app/Contents/MacOS/Electron -w&#39;</code></pre></div>\n<p>Here, the <code class=\"language-text\">-w</code> flag waits for the file to be closed before returning, which is required for git commit messages.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># Use nano instead.\nexport EDITOR=&#39;usr/bin/nano&#39;</code></pre></div>\n<p>Nano uses tabs instead of spaces. To have the editor always use spaces instead of tabs, you can either alias <code class=\"language-text\">nano</code> or include the <code class=\"language-text\">-T4</code> flag in the environment variable.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># Use nano with spaces instead of tabs.\nexport EDITOR=&#39;usr/bin/nano -T4&#39;\n\n# Always open nano with spaces instead of tabs.\nalias nano=&#39;nano -T4&#39;</code></pre></div>\n<p>If you can’t remember the path to the editor, use the <code class=\"language-text\">which</code> command:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">which</span> code\n/usr/local/bin/code\n\n$ <span class=\"token function\">which</span> <span class=\"token function\">nano</span>\n/usr/bin/nano</code></pre></div>","frontmatter":{"title":"Shell (zsh/bash) Configuration","date":"August 20, 2019","description":"Prompt coloring, auto-completion with lists, and more."}},"previous":{"fields":{"slug":"/git-demystified/"},"frontmatter":{"title":"Git Demystified"}},"next":{"fields":{"slug":"/sns-sqs-node/"},"frontmatter":{"title":"Setting up AWS SDK for SNS/SQS in Node.js"}}},"pageContext":{"id":"5e796c1d-8078-5d37-bbae-358fc55c59c2","previousPostId":"6d5b1018-e0a4-5aa2-a7c7-9485e09d48a0","nextPostId":"6bcdf65a-e6e6-5f0b-b63e-071b309f2061"}},"staticQueryHashes":["230163734","3589320610"]}